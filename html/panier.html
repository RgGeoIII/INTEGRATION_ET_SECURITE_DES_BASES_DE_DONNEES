<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Panier - Crocogym</title>
  <link rel="stylesheet" href="../css/panier.css">
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Roboto&display=swap" rel="stylesheet">
</head>
<body>
<header class="panier-header">
  <div class="logo">CROCOGYM üêä</div>
  <nav>
    <a href="../index.html">Accueil</a>
    <a href="connexion.html">Connexion</a>
    <a href="inscription.html">S'inscrire</a>
  </nav>
</header>

<main class="panier-container">
  <h1>Ton panier</h1>
  <div id="panier-items"></div>

  <div class="panier-total">
    <h3>Total :</h3>
    <p class="total-price" id="total-price">0,00‚Ç¨</p>
  </div>

  <div class="panier-actions">
    <a href="tarifs.html" class="btn-secondary">Continuer mes achats</a>
    <a href="inscription.html" class="btn-primary">Valider l'abonnement</a>
  </div>
</main>

<footer>
  <p>&copy; 2025 Crocogym. Tous droits √©cailleusement r√©serv√©s üêä.</p>
</footer>

<script>
  function afficherPanier() {
    const panier = JSON.parse(localStorage.getItem("panier")) || [];
    const container = document.getElementById("panier-items");
    const totalElem = document.getElementById("total-price");

    container.innerHTML = "";
    let total = 0;

    panier.forEach((item, index) => {
      const ligne = document.createElement("div");
      ligne.className = "panier-item";
      ligne.innerHTML = `
        <span><strong>${item.nom}</strong> - ${item.prix.toFixed(2)}‚Ç¨ x ${item.quantite}</span>
        <div>
          <button onclick="changerQuantite(${index}, -1)">-</button>
          <button onclick="changerQuantite(${index}, 1)">+</button>
          <button onclick="retirerDuPanier(${index})">Retirer</button>
        </div>
      `;
      container.appendChild(ligne);
      total += item.prix * item.quantite;
    });

    totalElem.textContent = total.toFixed(2).replace('.', ',') + "‚Ç¨";
  }

  function changerQuantite(index, delta) {
    let panier = JSON.parse(localStorage.getItem("panier")) || [];
    panier[index].quantite += delta;
    if (panier[index].quantite <= 0) panier.splice(index, 1);
    localStorage.setItem("panier", JSON.stringify(panier));
    afficherPanier();
  }

  function retirerDuPanier(index) {
    let panier = JSON.parse(localStorage.getItem("panier")) || [];
    panier.splice(index, 1);
    localStorage.setItem("panier", JSON.stringify(panier));
    afficherPanier();
  }

  window.onload = afficherPanier;
</script>


</body>
</html>
